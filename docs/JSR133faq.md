# JSR133 FAQ

## 什么是内存模型

多处理器系统中，处理器有一个或更多内存缓存层，改进性能通过加速处理数据和减少共享内存桥上的交通。

在处理器级别，内存模型必须定义和足够有条件知道另一个处理写入内存对当前处理器是可见的，反之亦然。一些
处理器使用强内存模型，对于给定的任何内存局部在所有时间精确的看到相同的值。弱内存模型中，有一个特殊指令
叫内存屏障，需要刷新和无效化局部处理器缓存以便能看到其它处理器的写入或者这个处理器写入对其它可见。

## JSR133 是什么

目标：

* 确保保护已存在的安全，像类型安全等
* 正确的同步程序语义应该是尽可能的简单和合乎直觉的。
* 不完全或不正确的程序语义应该被定义为可能的安全风险是最小化的。
* 编程者应该能正确推导出多线程程序在内存中怎么交流。
* 它应该尽可能是正确设计，高性能的 JVM 实现能适合更大范围的流行硬件架构。
* 新的初始化安全保护应该提供。如果一个对象被正确的构造，然后所有持有引用对象的线程也能看到它设置在构造器
的 final 域，不用使用同步。
* 这应该最小化影响已经存在的代码。

## 重新排列意味着什么

处理程序变量(对象实例域，类静态域，数组元素)时，执行的顺序可能和程序的顺序不同，编译器会为了优化自由
排序指令集的顺序。